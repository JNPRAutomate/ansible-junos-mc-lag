
system {
    host-name leaf-04;
    time-zone America/Los_Angeles;
    root-authentication {
        encrypted-password "$1$ZUlES4dp$OUwWo1g7cLoV/aMWpHUnC/";
    }
    name-server {
        192.168.5.68;
        192.168.60.131;
    }
    services {
        netconf {
            ssh;
        }
        ssh;
    }
    login {
        message "This is the property of Example Corp. Do not login without express permission. ";
    }
    syslog  {
        user * {
            any emergency;
        }
        file messages {
            any notice;
        }
        file cli-commands {
            interactive-commands any;
            explicit-priority;
        }
        time-format millisecond;
    }
    ntp {
        server 172.17.28.5;
    }
}
interfaces {
    em0 {
        unit 0 {
            family inet {
              address 0.0.0.0/23;
            }
        }
    }
    lo0 {
        unit 0 {
            family inet {
                address 100.0.0.24/32
            }
        }
    }
}
routing-options {
  static {
    route 172.16.0.0/12 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.252.0.0/15 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.64.0.0/10 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.248.0.0/14 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 207.17.136.0/24 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 192.168.0.0/16 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.224.0.0/12 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.128.0.0/10 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.240.0.0/13 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.192.0.0/11 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 66.129.0.0/16 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
    route 10.254.0.0/16 {
      next-hop 10.92.71.254;
      retain;
      no-readvertise;
    }
  }
}


protocols {
    lldp {
        interface all;
    }
}
interfaces {
    ae0 {
        unit 0 {
            family ethernet-switching {
                interface-mode trunk;
                vlan {
                    members 100;
                    members 101;
                }
            }
        }
    }
    ae1 {
        description "To Aggregation devices"
        aggregated-ether-options {
            lacp {
                active;
                periodic fast;
                system-id 00:11:22:33:33:02;
                admin-key 1;
            }
            mc-ae {
                mc-ae-id 1;
                chassis-id 1;
                mode active-active;
                status-control standby;
                init-delay-time 60;
                            }
        }
        unit 0 {
            family ethernet-switching {
                interface-mode trunk;
                vlan {
                    members 100;
                    members 101;
                }
            }
        }
    }
    et-0/0/52 {
        ether-options {
            802.3ad ae1;
        }
    }
    et-0/0/53 {
        ether-options {
            802.3ad ae1;
        }
    }

    ae2 {
        description "Access 1";
        aggregated-ether-options {
            lacp {
                active;
                periodic fast;
                system-id 00:11:22:33:33:02;
                admin-key 2;
            }
            mc-ae {
                mc-ae-id 2;
                chassis-id 1;
                mode active-active;
                status-control standby;
                init-delay-time 60;
            }
        }
        unit 0 {
            family ethernet-switching {
                interface-mode trunk;
                vlan {
                    members 100-199;
                }
            }
        }
    }
    xe-0/0/10 {
        ether-options {
            802.3ad ae2;
        }
    }
}


protocols {
    rstp {
        interface ae2 {
            edge;
        }
    }
    iccp {
        local-ip-addr 1.1.1.2;
        peer 1.1.1.1 {
            session-establishment-hold-time 50;
            liveness-detection {
                minimum-receive-interval 1000;
                transmit-interval {
                    minimum-interval 1000;
                }
            }
        }
    }
    igmp-snooping {
        vlan all;
    }

}

chassis {
    aggregated-devices {
        ethernet {
            device-count 4;
        }
    }
}

vlans {
    V100 {
        vlan-id 100;
    }
    V101 {
        vlan-id 101;
    }
}
interfaces {
    ae0 {
        description "ICCP interface to Peer device";
        unit 0 {
            family ethernet-switching {
                interface-mode trunk;
                vlan {
                    members 1;
                }
            }
        }
    }
    xe-0/0/8 {
        ether-options {
            802.3ad ae0;
        }
    }
    xe-0/0/9 {
        ether-options {
            802.3ad ae0;
        }
    }
        irb {
        unit  1 {
            family inet {
                address 1.1.1.2/24
            }
        }
    }
}
vlans {
    ICCP_VLAN {
        vlan-id 1
        l3-interface irb.1;
    }
}


switch-options {
    service-id 10;
}

multi-chassis {
    multi-chassis-protection 1.1.1.1 {
        interface ae0;
    }
}
